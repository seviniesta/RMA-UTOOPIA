<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  <title>Interface Utopiahome</title>
</head>

<body>
  <div class="d-flex justify-content-center p-3">
    <button class="btn btn-primary" id="bnt_alta_miembro">Alta Miembro</button>
  </div>


  <div class="container-fluid" id="contenedor_master"></div>




<!--     Esto es una prueba -->

<div class="row ">
  

<div class="col-md-2" >
  <label for="telefono" class="form-label"></i>Codigo Pais*</label><br>
  <select class="form-select" id="codigo_pais" name="codigo_pais">
    <option selected value="+34">España (+34)</option>
    <option value="+1">Estados Unidos (+1)</option>
    <option value="+44">Reino Unido (+44)</option>
    <option value="+33">Francia (+33)</option>
    <option value="+49">Alemania (+49)</option>
    <option value="+81">Japón (+81)</option>
    <option value="+61">Australia (+61)</option>
    <option value="+86">China (+86)</option>
    <option value="+91">India (+91)</option>
    <!-- Agrega más países según sea necesario -->
  </select>
  </div>

  <div class="col-md-2" >

<label for="telefono" class="form-label"><i class="bi bi-telephone"></i>Teléfono (será tu ID) *</label>
<input type="tel" class="form-control" id="telefono" placeholder="Tu Móvil">

</div>


<div class="col-md-2" >
  <label for="alias" class="form-label">Alias *</label> <input type="text" class="form-control" id="alias" placeholder="Tu Alias">

</div>

<div class="col-md-2" >


  <label for="tipoContacto" class="form-label">Otras maneras de Contactar&nbsp; &nbsp;<i class="bi bi-envelope-plus"></i> &nbsp;<i class="bi bi-whatsapp"></i>  &nbsp;<i class="bi bi-instagram"></i>&nbsp;<i class="bi bi-telephone-plus-fill"></i> </label>
                                            <select class="form-select" id="select_tipoContacto">
                                              <option selected>Selecciona tipo de contacto</option>
                                              <option value="email">Email</option>
                                              <option value="whatsapp">WhatsApp</option>
                                              <option value="instagram">Instagram</option>
                                              <option value="otroTelefono">Otro Teléfono</option>
                                            </select>
                                            

</div>


<div class="col-md-2" >

  <label for="detalleContacto" class="form-label">Escribe el mail ,  instagram etc..</label>
  <input type="text" class="form-control" id="id_nuevo_contacto" placeholder=" mail, numero whatsApp, instagram , segundo telefono">


</div>





</div>






  <script>






    //===========================================  Variables genericas =====================

    let direccion = `
          <div class="text-center">
            <i class="bi bi-house-add" style="font-size:2em;"></i> <b>Tu Ubicación:</b></div>
        
                
                <div class="col-sm-4">
            
                <label for="direccion" class="form-label">Calle Av, etc..</label>
                <input type="text" class="form-control" id="direccion" placeholder="Tu Dirección">
                </div>

                <div class="col-sm-2">
                          <label for="numero" class="form-label">Número</label>
                          <input type="text" class="form-control" id="numero" placeholder="Número">
                </div>
        
                <div class="col-sm-2">
            
                  <label for="portal" class="form-label">Portal</label>
                  <input type="text" class="form-control" id="portal" placeholder="Portal">
                </div>
          
                <div class="col-sm-2">
              
                  <label for="planta" class="form-label">Planta</label>
                  <input type="text" class="form-control" id="planta" placeholder="Planta">
                
                  </div>
          
                  <div class="col-sm-2">
              
                  <label for="puerta" class="form-label">Puerta</label>
                  <input type="text" class="form-control" id="puerta" placeholder="Puerta">
                </div>
        
                <div class="col-sm-6">
                  <label for="poblacion" class="form-label">Población</label>
                  <input type="text" class="form-control" id="poblacion" placeholder="Tu Población">
                </div>

                <div class="col-sm-6">
                  <label for="codigoPostal" class="form-label">Código Postal</label>
                  <input type="text" class="form-control" id="codigoPostal" placeholder="Tu Código Postal">
                </div>

                  <div class="col-sm-6">
                    <label for="pais" class="form-label">Provincia</label>
                    <input type="text" class="form-control" id="pais" placeholder="Provincia">
                  </div>

                  <div          class="col-sm-6">
                    <label for="pais" class="form-label">País</label>
                    <input type="text" class="form-control" id="pais" placeholder="Tu País">
                  </div>`;

//*****************************************************Datos Basicos

const id_usuario=`<label for="telefono" class="form-label"><i class="bi bi-telephone"></i>Teléfono (será tu ID) *</label>
                                          <input type="tel" class="form-control" id="telefono" placeholder="Tu Móvil">`;
const alias=`<input type="text" class="form-control" id="alias" placeholder="Tu Alias"><label for="alias" class="form-label">Alias *</label>`;

const otros_contactos=`<label for="tipoContacto" class="form-label">Otras maneras de Contactar&nbsp; &nbsp;<i class="bi bi-envelope-plus"></i> &nbsp;<i class="bi bi-whatsapp"></i>  &nbsp;<i class="bi bi-instagram"></i>&nbsp;<i class="bi bi-telephone-plus-fill"></i> </label>
                                            <select class="form-select" id="select_tipoContacto">
                                              <option selected>Selecciona tipo de contacto</option>
                                              <option value="email">Email</option>
                                              <option value="whatsapp">WhatsApp</option>
                                              <option value="instagram">Instagram</option>
                                              <option value="otroTelefono">Otro Teléfono</option>
                                            </select>
                                            <label for="detalleContacto" class="form-label">Pon tu, mail, numero whatsApp, instagram , segundo telefono....</label>
                                            <input type="text" class="form-control" id="id_nuevo_contacto" placeholder="">
                                            `;


const notas_generales=`<label for="notas" class="form-label">Notas</label><textarea class="form-control" id="notas" placeholder="Notas"></textarea>`;

//-- Habilidades

const habilidad=` <label for="id_value_habilidad" class="form-label">¿Cuál es tu habilidad?</label> <input type="text" class="form-control" id="id_value_habilidad" placeholder="Describe brevemente tu habilidad">`;

const nivel_habilidad=`<label for="select_nivel" class="form-label">¿Cuál es tu nivel?</label>
                              
                              <select class="form-select" id="select_nivel">
                              <option selected>Selecciona Nivel</option>
                              <option value="principiante">Principiante</option>
                              <option value="tablas">Con Tablas</option>
                              <option value="experto">Experto</option>
                              </select>`;

const modalidad_trabajo=`
                              <label for="select_modalidad" class="form-label">¿Cómo realizarías tu trabajo?</label>
                              <select class="form-select" id="select_modalidad">
                              <option selected>Selecciona la modalidad</option>
                              <option value="Remoto">Remoto</option>
                              <option value="Presencial">Presencial</option>
                              <option value="Remoto y Presencial">Ambas</option>
                              </select>`;

const detalla_habilidad=` <label for="text_detalleHabilidad" class="form-label">Detalla tu habilidad</label>
                                <textarea class="form-control" id="text_detalleHabilidad" placeholder="Detalla tu habilidad"></textarea>`;

const btn_add_habilidad=`<button class="btn btn-primary mt-3" id="id_btn_add_habilidad" type="button">+ Añade Habilidad</button>`;

const contenedor_habilidades=`<div class="d-grid gap-2" id="id_habilidades"> </div>`;

const select_dia_semana_desde=`       <b class="text-center">Dias disponibles <i class="bi bi-calendar-date"></i> </b>
                                  <div class="col-12"> 
                                    <select class="form-select" aria-label="Default select example" id="select_dia_semana_desde" >
                                      <option selected>Desde el dia:</option>
                                      <option value="Lunes">Desde el Lunes</option>
                                      <option value="Martes">Desde el Martes</option>
                                      <option value="Miercoles">Desde el Miercoles</option>
                                      <option value="Jueves">Desde el Jueves</option>
                                      <option value="Viernes">Desde el Viernes</option>
                                      <option value="Sabado">Desde el Sabado</option>
                                      <option value="Domingo">Desde el Domingo</option>
                                    </select> `;


const select_dia_semana_hasta=`<select class="form-select" aria-label="Default select example" id="select_dia_semana_hasta"  >
                                        <option selected>Hasta el dia:</option>
                                        <option value="Lunes">Hasta el Lunes</option>
                                        <option value="Martes">Hasta el Martes</option>
                                        <option value="Miercoles">Hasta el  Miercoles</option>
                                        <option value="Jueves">Hasta el Jueves</option>
                                        <option value="Viernes">Hasta el Viernes</option>
                                        <option value="Sabado">Hasta el Sabado</option>
                                        <option value="Domingo">Hasta el Domingo</option>
                                      </select>`;

const desde_hora=`<input type="number" id="desde_hora" class="form-control" placeholder="H">`;

const desde_minutos=`<input type="number" id="desde_minutos" class="form-control" placeholder="M">`;

const hasta_hora=`<input type="number" id="hasta_hora" class="form-control" placeholder="H">`;

const hasta_minutos=`<input type="number" id="hasta_minutos" class="form-control" placeholder="M">`;

const id_btn_add_disponibilidad=`<button class="btn btn-primary" type="button"  id="id_btn_add_disponibilidad" >+ Añade Horario Disponible</button>`;

    //=========================================== fin Variables genericas =====================


    let add_elementos = (id_elemento_padre, crea_elemento_html, tipo_elemento_html, id_nuevo_elemento, clases_nuevo_elemento, contenido_nuevo_elemento, funciones) => {

      const elemento_padre = document.getElementById(id_elemento_padre);
      const nuevoElemento = document.createElement(crea_elemento_html);
      nuevoElemento.type = tipo_elemento_html;
      nuevoElemento.id = id_nuevo_elemento;

      if (clases_nuevo_elemento.trim() !== '') {
        clases_nuevo_elemento.split(' ').forEach(clase => {
          nuevoElemento.classList.add(clase.trim());
        });
      }

      nuevoElemento.innerHTML = contenido_nuevo_elemento;
      elemento_padre.appendChild(nuevoElemento);



      //==========  Bucle Array de funciones



      funciones.forEach(func => func()); // Activa Funciones

      //========== Fin Bucle Array de funciones    

    }


    let contenedor_add_miembro = `
<div class="accordion"  id="accordionExample">
  
              <div class="accordion-item">
                    <h2 class="accordion-header">  
                      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                          <i class="bi bi-person-add" style="font-size: 2rem;">   </i> &nbsp; &nbsp;    Datos Básicos 
                      </button>
                    </h2>
                  
                  <div id="collapseOne" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
            
                            <div class="accordion-body">
                    
                                <div class="row g-2">
                    
                                      <div class="col-sm-6">${id_usuario}</div>
    
                                      <div class="col-sm-6">
                            
                                              <label for="nombreApellido" class="form-label">Nombre y Apellidos</label>
                                              <input type="text" class="form-control" id="nombreApellido" placeholder="Tu Nombre y Apellidos">
                                      </div>
          
                      
                                      <div class="col-sm-6">${alias}</div>
          
                                      
                                      <div class="col-sm-6">
          
                                        <label for="imagenPerfil" class="form-label"><i class="bi bi-file-earmark-person-fill"></i> Selecciona tu imagen de perfil:</label>
                                        <input class="form-control" type="file" id="imagenPerfil" accept="image/*">
                                      </div>
          
                                  </div>
        
        
                                <div class="row g-2">
          
          
                                    <div class="col-sm-6">
                                      ${otros_contactos}
                                      
                                      </div>

                                  

                                      <div class="col-sm-12">
                                            <button class="btn btn-primary" id="id_btn_add_contacto" type="button">+ Añade otro contacto</button>
                                      </div>


                                      <div class="col-sm-12"  id="contenedor_add_otros_contactos" >   </div>
                            
                                      ${direccion}

                                      <div class="col-12 mt-2 mb-2">
                                      ${notas_generales}
                                      </div>
                
                            </div>
    
                    </div>
    </div>
  </div>

                                                                        <!-- HABILIDADES -->
        <div class="accordion-item">
        
              <h2 class="accordion-header">
                  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                    <img src="https://img.icons8.com/ios-filled/50/000000/development-skill.png" alt="habilidades" width="33" height="33">&nbsp;&nbsp; Registra tus habilidades que ofreces en la comunidad
                  </button>
              </h2>
  
                <div id="collapseTwo" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
    
                        <div class="accordion-body">
        
        
                          <div class="row g-2">
                    
                            <div class="col-md-6">${habilidad}</div>
          
                            <div class="col-md-3">${nivel_habilidad}</div>                 
                              
                            <div class="col-md-3">${modalidad_trabajo}</div>       

                            <div class="col-12 mt-2 mb-2">${detalla_habilidad}</div>                              
                            
                        </div>

                        <div class="d-grid gap-2">${btn_add_habilidad}</div>

                        ${contenedor_habilidades}

                        <div class="row mt-3 mb-2 ">${select_dia_semana_desde}</div>                        
                          
                        <div class="row"> ${select_dia_semana_hasta}</div> 
        
                        <div class="col-12 text-center mt-2 mb-2"><i class="bi-alarm"></i> <b >Horario </b></div>

                          <div class="col-4 pt-1"> Desde las: </div>
                          <div class="col-3">${desde_hora} </div>                      
                          <div class="col-1"> :</div>
                          <div class="col-3"> ${desde_minutos}</div>                           
                          <div class="col-4 pt-1"> Hasta las: </div>
                          <div class="col-3"> ${hasta_hora}</div>       
                          <div class="col-1"> : </div>
                          <div class="col-3"> ${hasta_minutos}</div>
                          
                          <div class="col-12"> ${id_btn_add_disponibilidad}</div>
  
                          <div class="col-12" id="id_disponibilidad"> </div>
                  </div>
            </div>
        </div>
    </div>


  <div class="accordion-item">
      <h2 class="accordion-header">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
        Anexos
      </button>
    </h2>
            <div id="collapseThree" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
  
                <div class="accordion-body">
            
                    <div class="row text-center">
                      <div class="col-md-4 mb-2">
                          <input type="text" aria-label="Last name" id="value_Nombre_ficheroAdjunto" class="form-control" placeholder="Nombre del adjunto" >
                      </div>
      
              <div class="col-md-4 mb-2">
                  <input type="file" class="form-control" id="value_ficheroAdjunto" aria-describedby="inputGroupFileAddon04" aria-label="Upload">
              </div>

            <div class="col-md-4 mb-2">
                    <button class="btn btn-primary" type="button" id="id_bnt_fichero_adjunto">+ Adjuntar Fichero</button> 
            </div>

            <div class="col-md-12 mt-2" id="id_contenedor_fichero_adjunto">   </div>

        </div>
      </div>
    </div>
    </div>`;







    const add_otros_contactos = () => {
      document.getElementById('id_btn_add_contacto').addEventListener("click", function () {
        const selectTipoContacto = document.querySelector('.form-select');
        const id_nuevo_contacto = document.getElementById("id_nuevo_contacto").value;
        const nuevo_contacto = document.createElement('p');
        nuevo_contacto.innerHTML = '<b>' + selectTipoContacto.value + ':  </b>' + id_nuevo_contacto;
        nuevo_contacto.style.backgroundColor = "#f0f0f0";
        nuevo_contacto.style.padding = "10px";
        nuevo_contacto.style.marginBottom = "10px";
        nuevo_contacto.style.border = "1px solid #ccc";
        document.getElementById("contenedor_add_otros_contactos").appendChild(nuevo_contacto);
      })
    };





    const add_habilidades = () => {
      document.getElementById('id_btn_add_habilidad').addEventListener("click", function () {

        // Obtener el valor del input
        const id_valor_habilidad = document.getElementById("id_value_habilidad").value;

        const select_nivel = document.getElementById("select_nivel").value;

        const select_modalidad = document.getElementById("select_modalidad").value;

        const text_detalleHabilidad = document.getElementById("text_detalleHabilidad").value;


        // Crear un nuevo elemento <p> para la habilidad
        const nuevoElemento = document.createElement("p");


        //  Asignar el valor del input al contenido de texto del nuevo elemento
        nuevoElemento.innerHTML = ` <b> ${id_valor_habilidad} </b> =>   ${select_nivel}  => ${select_modalidad} =><i> ${text_detalleHabilidad} </i>  `;


        nuevoElemento.style.backgroundColor = "#f0f0f0";
        nuevoElemento.style.padding = "10px";
        nuevoElemento.style.marginBottom = "10px";
        nuevoElemento.style.border = "1px solid #ccc";



        // Añadir el nuevo elemento como hijo del elemento con id "id_habilidad"
        document.getElementById("id_habilidades").appendChild(nuevoElemento);



      })
    };




    const add_disponibilidad = () => {
      document.getElementById('id_btn_add_disponibilidad').addEventListener("click", function () {

        const select_dia_semana_desde = document.querySelector('#select_dia_semana_desde').value;
        const select_dia_semana_hasta = document.querySelector('#select_dia_semana_hasta').value;

        const value_desde_hora = document.querySelector('#desde_hora').value;
        const value_desde_minutos = document.querySelector('#desde_minutos').value;

        const value_hasta_hora = document.querySelector('#hasta_hora').value;
        const value_hasta_minutos = document.querySelector('#hasta_minutos').value;


        // Crear un nuevo elemento <p> para la habilidad
        const nuevoElemento = document.createElement("p");


        //  Asignar el valor del input al contenido de texto del nuevo elemento
        nuevoElemento.innerHTML = ` Desde el día <b> ${select_dia_semana_desde} </b> => Hasta el día  ${select_dia_semana_hasta}  => Entre la ${value_desde_hora}:${value_desde_minutos} => Hasta las ${value_hasta_hora}:${value_hasta_minutos}  `;


        nuevoElemento.style.backgroundColor = "#f0f0f0";
        nuevoElemento.style.padding = "10px";
        nuevoElemento.style.marginBottom = "10px";
        nuevoElemento.style.border = "1px solid #ccc";



        // Añadir el nuevo elemento como hijo del elemento con id "id_habilidad"
        document.getElementById("id_disponibilidad").appendChild(nuevoElemento);

        // alert(select_dia_semana_desde+'  '+select_dia_semana_hasta +' '+  value_desde_hora        +' '+  value_desde_minutos      +' '+   value_hasta_hora        +' '+  value_hasta_minutos       );



      })
    };


    const add_adjuntos = () => {
      document.getElementById('id_bnt_fichero_adjunto').addEventListener("click", function () {

        const value_Nombre_ficheroAdjunto = document.querySelector('#value_Nombre_ficheroAdjunto').value;
        const value_ficheroAdjunto = document.querySelector('#value_ficheroAdjunto').value;

        // Crear un nuevo elemento <p> para la habilidad
        const nuevoElemento = document.createElement("p");

        //  Asignar el valor del input al contenido de texto del nuevo elemento
        nuevoElemento.innerHTML = `<b>Nombre del fichero </b> ${value_Nombre_ficheroAdjunto}  => ${value_ficheroAdjunto} `;
        nuevoElemento.style.backgroundColor = "#f0f0f0";
        nuevoElemento.style.padding = "10px";
        nuevoElemento.style.marginBottom = "10px";
        nuevoElemento.style.border = "1px solid #ccc";

        document.getElementById("id_contenedor_fichero_adjunto").appendChild(nuevoElemento);
      })
    };




    //================================================================================== MASTER================================================                               

    let pasamos_funciones = [add_habilidades, add_otros_contactos, add_disponibilidad, add_adjuntos];// Array de funciones

    document.getElementById('bnt_alta_miembro').addEventListener("click", function () {
      add_elementos("contenedor_master", "div", "", "id_add_miembro", "bg-light bg-gradient", contenedor_add_miembro, pasamos_funciones);
    });

</script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"     crossorigin="anonymous"></script>








</body>

</html>