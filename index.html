<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>

   
    body {
      margin: 0;
      font-family: 'Arial', sans-serif;
    }

    header {
      background-color: #3498db;
      color: #fff;
      text-align: center;
      padding: 20px;
    }

  #contenedor_calendario{
    overflow-x: auto; /* Para permitir desplazamiento horizontal en pantallas pequeñas */
    width: 100%;
    max-width: 100%; /* Opcional: Puedes establecer un ancho máximo si lo deseas */
    box-sizing: border-box; /* Ajusta el modelo de caja para incluir el relleno y el borde en el ancho total */
  }

    .container {
      display: flex;
      flex-wrap: nowrap; /* Para evitar saltos de carro */
      
    }

    .titulo,
    .day {
      background-color: #ecf0f1;
      border: 1px solid #bdc3c7;
      box-sizing: border-box;
      padding: 1px;
      text-align: center;
      font-size: 1.2vw; /* Ajustar el tamaño de la fuente responsivamente */
     
    }

    .titulo {
      flex: 0 0 10%; /* Ancho fijo del 10% para el div de la cabecera */
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      font-size:1vw; ;
     
    }

    .day {
      flex: 1 0 calc(90% / var(--diviciones)); /* Calcula el ancho para cada día */
    }

    @media screen and (max-width: 300px) {
      /* Ajustar tamaños para pantallas más pequeñas si es necesario */
      .titulo, .day {
        flex: 0 0 100%; /* Ancho del 100% en pantallas pequeñas */
        font-size: 1vw; /* Ajustar el tamaño de la fuente para pantallas más pequeñas */
      }
    }



 
#Pagos_8_1_2024,#Pagos_20_1_2024,#Casa_28_1_2024 { background-color: red;  } 
    
    #Casa_28_1_2024 { background-color: rgb(25, 177, 169);  }
    #Po_Guill_28_1_2024{background-color: pink;} 

    
  </style>
</head>
<body>

<header>
  <h2 id="TituloAno">Calendario Responsive</h2>
</header>
<div id="contenedor_calendario"> 




<!-- Divs horizontales generados con JavaScript -->
</div>

<script>

  function obtenerDiaSemana(dia, mes, ano) {
      // El mes en JavaScript va de 0 a 11, donde 0 es enero y 11 es diciembre
      // Así que resta 1 al mes proporcionado por el usuario
     // mes--;

      // Crea un objeto de fecha con la fecha proporcionada
      let fecha = new Date(ano, mes, dia);

      // Obtiene el número del día de la semana (0 para domingo, 1 para lunes, ..., 6 para sábado)
      let numeroDiaSemana = fecha.getDay();

      // Array con los nombres de los días de la semana
      let nombresDias = ["D", "L", "M", "X", "J", "V", "S"];

      // Retorna el nombre del día de la semana
   
      return nombresDias[numeroDiaSemana];
  }
  
  
  
  
  
  
  document.addEventListener('DOMContentLoaded', function () {
    function add_line(titulo,ano,mes) {

      let i;
      let contenido_cal;

      




// Fecha =>Genero los dias que hay en el mes
      mes--;
      // Crea un objeto de fecha para el primer día del siguiente mes
      let fechaSiguienteMes = new Date(ano, mes + 1, 1);

      // Resta un día para obtener el último día del mes actual
      let ultimoDiaDelMes = new Date(fechaSiguienteMes - 1);

      // Obtiene el día del mes
     //ultimoDiaDelMes.getDate();
      
      

      let contenedorPrincipal=document.getElementById("contenedor_calendario");


      let TituloAno=document.getElementById("TituloAno"); //Pone el año en el id TituloAno.
      TituloAno.innerHTML=ano;
      let meses=['Enero','Febrero','Marzo','Abril','Mayo','Junio','Julio','Agosto','Septiembre','Octubre','Noviembre','Diciembre'];
      
      let container = document.createElement('div');
      container.className = 'container';

    //  var bod = document.body;
      if (!contenedorPrincipal) {
        console.error("No se encontró el elemento 'body'");
        return;
      }

        contenedorPrincipal.appendChild(container);

      let diviciones =ultimoDiaDelMes.getDate(); // calcula numero de dias 
      let descripcion = document.createElement('div');
      descripcion.className = 'titulo';
      descripcion.textContent = titulo;
      container.appendChild(descripcion);

      container.style.setProperty('--diviciones', diviciones);


      for ( i = 1; i <= diviciones; i++) {
       
        if(titulo===ano){
          
          contenido_cal='<p id="cal_'+i+'_'+mes+'_'+ano+'" style="padding:0; margin:0;"><b>'+obtenerDiaSemana(i, mes, ano)+'</b></p><p style="padding:0; margin:0; " >'+i+'</p>';
          descripcion.textContent =meses[mes];
          document.getElementsByClassName('titulo')[0].style.backgroundColor="black";
          document.getElementsByClassName('titulo')[0].style.color="white";
           
       }else{ contenido_cal='<p  style="padding:0; margin:0;"  id="'+titulo+'_'+i+'_'+mes+'_'+ano+'"  >&nbsp;</p>'}
      

        
        let dayDiv = document.createElement('div');
        dayDiv.className = 'day';
        //dayDiv.textContent = i;
        dayDiv.innerHTML =contenido_cal;
        container.appendChild(dayDiv);
    
      }
      

      //======================= Saca  el Día , mes y año actual y remarca el css el div para saber en que día estamos.
      
const fechaActual = new Date();
const diaActual = fechaActual.getDate();
const mesActual = fechaActual.getMonth() + 1;  // Se suma 1 porque los meses en JavaScript van de 0 a 11
const anoActual = fechaActual.getFullYear();

const idElemento = 'cal_'+ diaActual+'_'+(mesActual-1)+'_'+ anoActual;
const elemento = document.getElementById(idElemento);


if (elemento) {
  // El elemento con el ID especificado existe
  elemento.style.backgroundColor = "black";
  elemento.style.color = "white";
// MArca el siguiente parrafo en Negro
  elemento.nextElementSibling.style.backgroundColor = "black";
  elemento.nextElementSibling.style.color = "white";


} else {
  // El elemento con el ID especificado no existe
  console.error("El elemento con ID '" + idElemento + "' no fue encontrado.");
}

    }

    add_line(2024,2024,2);
   add_line('Pagos',2024,2);
    add_line('Casa',2024,2);
    add_line('Po_Guill',2024,2);
 
  
  });
</script>

</body>
</html>
